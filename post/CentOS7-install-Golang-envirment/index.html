<html>
  <head>
    <meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>在CentOS7上安装Golang环境 | 笔记</title>
<link rel="shortcut icon" href="https://skwfar.github.io/favicon.ico?v=1597130812417">
<link href="https://cdn.jsdelivr.net/npm/remixicon@2.3.0/fonts/remixicon.css" rel="stylesheet">
<link rel="stylesheet" href="https://skwfar.github.io/styles/main.css">
<link rel="alternate" type="application/atom+xml" title="在CentOS7上安装Golang环境 | 笔记 - Atom Feed" href="https://skwfar.github.io/atom.xml">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Droid+Serif:400,700">



    <meta name="description" content="背景
安装好了Vim8，那么，安装Golang环境就是必不可少的了，使用Linux系统进行编程，除了Vim，还需要安装一些插件来提升编程体验。
一、安装Golang
1.使用yum安装
我们可以使用CentOS自带的指令进行Golang的安..." />
    <meta name="keywords" content="CentOS,Golang" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/katex.min.css">
    <script src="https://cdn.bootcss.com/highlight.js/9.12.0/highlight.min.js"></script>
  </head>
  <body>
    <div class="main">
      <div class="main-content">
        <div class="site-header">
  <a href="https://skwfar.github.io">
  <img class="avatar" src="https://skwfar.github.io/images/avatar.png?v=1597130812417" alt="">
  </a>
  <h1 class="site-title">
    笔记
  </h1>
  <p class="site-description">
    Sic mundus creatus est
  </p>
  <div class="menu-container">
    
      
        <a href="/" class="menu">
          首页
        </a>
      
    
      
        <a href="/archives" class="menu">
          归档
        </a>
      
    
      
        <a href="/tags" class="menu">
          标签
        </a>
      
    
      
        <a href="/post/about" class="menu">
          关于
        </a>
      
    
  </div>
  <div class="social-container">
    
      
    
      
    
      
    
      
    
      
    
  </div>
</div>

        <div class="post-detail">
          <article class="post">
            <h2 class="post-title">
              在CentOS7上安装Golang环境
            </h2>
            <div class="post-info">
              <span>
                2020-03-16
              </span>
              <span>
                5 min read
              </span>
              
                <a href="https://skwfar.github.io/tag/PhHVze0Eh/" class="post-tag">
                  # CentOS
                </a>
              
                <a href="https://skwfar.github.io/tag/yUaGJL1LBh/" class="post-tag">
                  # Golang
                </a>
              
            </div>
            
            <div class="post-content-wrapper">
              <div class="post-content">
                <h2 id="背景">背景</h2>
<p>安装好了Vim8，那么，安装Golang环境就是必不可少的了，使用Linux系统进行编程，除了Vim，还需要安装一些插件来提升编程体验。</p>
<h3 id="一-安装golang">一、安装Golang</h3>
<h5 id="1使用yum安装">1.使用yum安装</h5>
<p>我们可以使用CentOS自带的指令进行Golang的安装</p>
<pre><code>yum install golang
</code></pre>
<p>但该方法安装的Golang并不是最新的版本，若版本要求不高可以用此方法进行安装。</p>
<h5 id="2使用二进制文件安装">2.使用二进制文件安装</h5>
<p>官网：https://golang.org/</p>
<p>国内镜像：https://golang.google.cn/dl/</p>
<p>点击Download Go 找到Linux对应的安装包并复制下载地址，在服务器上下载</p>
<pre><code>wget https://golang.org/dl/go1.14.7.linux-amd64.tar.gz
</code></pre>
<p>若先前安装过老版本的Go，需先删除老版本Go文件夹</p>
<pre><code>rm -rf /usr/local/go
</code></pre>
<p>解压Go安装包</p>
<pre><code>tar -zxf go1.14.7.linux-amd64.tar.gz -C /usr/local
</code></pre>
<p>配置环境变量</p>
<pre><code>vim /etc/profile
</code></pre>
<p>在/etc/profile文件末尾添加以下配置，输入 :wq保存</p>
<pre><code>#golang env config

export GO111MODULE=on

export GOROOT=/usr/local/go

export GOPATH=/home/gopath

export PATH=$PATH:$GOROOT/bin:$GOPATH/bin
</code></pre>
<p>切换到/home目录，并创建gopath文件夹</p>
<pre><code>cd /home

mkdir gopath
</code></pre>
<p>使配置文件生效</p>
<pre><code>source /etc/profile
</code></pre>
<p>查看Golang版本</p>
<pre><code>go version
</code></pre>
<p>若显示正确的Golang版本，那么Golang运行环境就安装完成啦。</p>
<p>测试一下go文件是否能正常运行吧，切换到gopath目录，创建一个hello.go</p>
<pre><code>cd /home/gopath 

vim hello.go
</code></pre>
<p>粘贴以下代码并:wq保存</p>
<pre><code>package main

import &quot;fmt&quot;

func main()  {

	fmt.Printf(&quot;Hello, world!&quot;)

}
</code></pre>
<p>在go文件保存的路径下执行</p>
<pre><code>go run hello.go
</code></pre>
<p>若输出Hello, world!那么就运行正常啦。</p>
<h3 id="二-配置vim">二、配置Vim</h3>
<p>为了使Vim能更好的作为Golang编程的工具，查阅了部分资料后，暂且安装4个插件来辅助编程</p>
<p>vim-go 使Vim支持代码格式化、语法检查、语法高亮、等功能。</p>
<p>NERDTree 方便管理和查看代码目录结构。</p>
<p>tagbar 用于查看代码结构。</p>
<p>YouCompleteMe 用于代码自动补全。</p>
<h5 id="1安装vundle">1.安装Vundle</h5>
<p>使用Vundle能对Vim插件进行管理和安装，我们需要先安装Vundle，首先拉取代码</p>
<pre><code class="language-php">git clone https://github.com/VundleVim/Vundle.vim.git ~/.vim/bundle/Vundle.vim
</code></pre>
<p>打开~/.vimrc，写入要安装的插件配置</p>
<pre><code class="language-bash">set nu
set nocompatible              &quot; be iMproved, required
filetype off                  &quot; required

&quot; set the runtime path to include Vundle and initialize
set rtp+=~/.vim/bundle/Vundle.vim
call vundle#begin()

&quot; let Vundle manage Vundle, required
Plugin 'VundleVim/Vundle.vim'

Plugin 'fatih/vim-go'

Plugin 'majutsushi/tagbar'

Plugin 'scrooloose/nerdtree'

Plugin 'Valloric/YouCompleteMe'

&quot; All of your Plugins must be added before the following line
call vundle#end()            &quot; required
filetype plugin indent on    &quot; required
</code></pre>
<h5 id="2安装插件">2.安装插件</h5>
<p>配置完成并保存后，在vim命令模式下执行</p>
<pre><code class="language-css">:PluginInstall
</code></pre>
<p>插件自动下载安装，显示 Finishing ... Done 则插件安装成功。</p>
<h5 id="3安装vim-go依赖">3.安装vim-go依赖</h5>
<p>在vim命令模块下执行：</p>
<pre><code class="language-css">:GoInstallBinaries
</code></pre>
<h5 id="4编译youcompleteme">4.编译YouCompleteMe</h5>
<p>安装完YouCompleteMe后，还需要单独编译才能运行YouaCompleteMe</p>
<pre><code>cd ~/.vim/bundle/YouCompleteMe

git submodule update --init --recursive

./install.py --go-completer
</code></pre>
<h5 id="5写入插件配置">5.写入插件配置</h5>
<p>打开~/.vimrc，在对应插件下写入插件配置</p>
<p>vim-go插件</p>
<pre><code class="language-bash">let g:go_fmt_command = &quot;goimports&quot; &quot; 格式化将默认的 gofmt 替换
let g:go_autodetect_gopath = 1
let g:go_list_type = &quot;quickfix&quot;
let g:go_version_warning = 1
let g:go_highlight_types = 1
let g:go_highlight_fields = 1
let g:go_highlight_functions = 1
let g:go_highlight_function_calls = 1
let g:go_highlight_operators = 1
let g:go_highlight_extra_types = 1
let g:go_highlight_methods = 1
let g:go_highlight_generate_tags = 1
let g:godef_split = 2
</code></pre>
<p>NERDTree插件</p>
<pre><code class="language-xml">&quot; 打开和关闭NERDTree快捷键
map &lt;F10&gt; :NERDTreeToggle&lt;CR&gt;
&quot; 设置宽度
let NERDTreeWinSize = 30
&quot; 是否显示隐藏文件
let NERDTreeShowHidden=1
&quot; 修复^G
let g:NERDTreeNodeDelimiter = &quot;\u00a0&quot;
</code></pre>
<p>tagbar插件</p>
<pre><code class="language-ruby">nmap &lt;F9&gt; :TagbarToggle&lt;CR&gt;
let g:tagbar_width=25
let g:tagbar_type_go = {
    \ 'ctagstype' : 'go',
    \ 'kinds'     : [
        \ 'p:package',
        \ 'i:imports:1',
        \ 'c:constants',
        \ 'v:variables',
        \ 't:types',
        \ 'n:interfaces',
        \ 'w:fields',
        \ 'e:embedded',
        \ 'm:methods',
        \ 'r:constructor',
        \ 'f:functions'
    \ ],
    \ 'sro' : '.',
    \ 'kind2scope' : {
        \ 't' : 'ctype',
        \ 'n' : 'ntype'
    \ },
    \ 'scope2kind' : {
        \ 'ctype' : 't',
        \ 'ntype' : 'n'
    \ },
    \ 'ctagsbin'  : 'gotags',
    \ 'ctagsargs' : '-sort -silent'
\ }
</code></pre>
<p>配置因人而异，配置写入完成并保存后，在Vim中按F9召唤tagbar，按F10召唤NERDTree，需要其他快捷键可以在配置文件中更改。</p>
<p>在CentOS上的Golang环境就配置完成啦。</p>

              </div>
              <div class="toc-container">
                <ul class="markdownIt-TOC">
<li>
<ul>
<li><a href="#%E8%83%8C%E6%99%AF">背景</a>
<ul>
<li><a href="#%E4%B8%80-%E5%AE%89%E8%A3%85golang">一、安装Golang</a><br>
*
<ul>
<li><a href="#1%E4%BD%BF%E7%94%A8yum%E5%AE%89%E8%A3%85">1.使用yum安装</a></li>
<li><a href="#2%E4%BD%BF%E7%94%A8%E4%BA%8C%E8%BF%9B%E5%88%B6%E6%96%87%E4%BB%B6%E5%AE%89%E8%A3%85">2.使用二进制文件安装</a></li>
</ul>
</li>
<li><a href="#%E4%BA%8C-%E9%85%8D%E7%BD%AEvim">二、配置Vim</a><br>
*
<ul>
<li><a href="#1%E5%AE%89%E8%A3%85vundle">1.安装Vundle</a></li>
<li><a href="#2%E5%AE%89%E8%A3%85%E6%8F%92%E4%BB%B6">2.安装插件</a></li>
<li><a href="#3%E5%AE%89%E8%A3%85vim-go%E4%BE%9D%E8%B5%96">3.安装vim-go依赖</a></li>
<li><a href="#4%E7%BC%96%E8%AF%91youcompleteme">4.编译YouCompleteMe</a></li>
<li><a href="#5%E5%86%99%E5%85%A5%E6%8F%92%E4%BB%B6%E9%85%8D%E7%BD%AE">5.写入插件配置</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>

              </div>
            </div>
          </article>
        </div>

        
          <div class="next-post">
            <div class="next">下一篇</div>
            <a href="https://skwfar.github.io/post/CentOS7-install-Vim8/">
              <h3 class="post-title">
                在CentOS7上安装Vim8
              </h3>
            </a>
          </div>
        

        

        <div class="site-footer">
  skwfar
  <a class="rss" href="https://skwfar.github.io/atom.xml" target="_blank">
    <i class="ri-rss-line"></i> RSS
  </a>
</div>

      </div>
    </div>

    <script>
      hljs.initHighlightingOnLoad()

      let mainNavLinks = document.querySelectorAll(".markdownIt-TOC a");

      // This should probably be throttled.
      // Especially because it triggers during smooth scrolling.
      // https://lodash.com/docs/4.17.10#throttle
      // You could do like...
      // window.addEventListener("scroll", () => {
      //    _.throttle(doThatStuff, 100);
      // });
      // Only not doing it here to keep this Pen dependency-free.

      window.addEventListener("scroll", event => {
        let fromTop = window.scrollY;

        mainNavLinks.forEach((link, index) => {
          let section = document.getElementById(decodeURI(link.hash).substring(1));
          let nextSection = null
          if (mainNavLinks[index + 1]) {
            nextSection = document.getElementById(decodeURI(mainNavLinks[index + 1].hash).substring(1));
          }
          if (section.offsetTop <= fromTop) {
            if (nextSection) {
              if (nextSection.offsetTop > fromTop) {
                link.classList.add("current");
              } else {
                link.classList.remove("current");    
              }
            } else {
              link.classList.add("current");
            }
          } else {
            link.classList.remove("current");
          }
        });
      });

    </script>
  </body>
</html>
