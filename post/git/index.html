<html>
<head>
    <meta charset="utf-8"/>
<meta name="description" content=""/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>

<title>Git的使用方法和一些想法 | 笔记</title>

<link rel="shortcut icon" href="https://skwfar.github.io/favicon.ico?v=1597202354647">

<link href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" rel="stylesheet">
<link rel="stylesheet" href="https://skwfar.github.io/styles/main.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.0/dist/css/bootstrap.min.css">

<script src="https://cdn.jsdelivr.net/npm/@highlightjs/cdn-assets/highlight.min.js"></script>
<script src="https://cdn.bootcss.com/highlight.js/9.15.10/languages/dockerfile.min.js"></script>
<script src="https://cdn.bootcss.com/highlight.js/9.15.10/languages/dart.min.js"></script>

<script src="https://cdn.jsdelivr.net/npm/moment@2.27.0/moment.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.slim.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.0/dist/js/bootstrap.min.js"></script>
<!-- DEMO JS -->
<!--<script src="media/scripts/index.js"></script>-->



    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.css">
</head>
<body>
<div class="main gt-bg-theme-color-first">
    <nav class="navbar navbar-expand-lg">
    <div class="navbar-brand">
        <img class="user-avatar" src="/images/avatar.png" alt="头像">
        <div class="site-name gt-c-content-color-first">
            笔记
        </div>
    </div>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
        <i class="fas fa-bars gt-c-content-color-first" style="font-size: 18px"></i>
    </button>
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
        <div class="navbar-nav mr-auto" style="text-align: center">
            
                <div class="nav-item">
                    
                        <a href="/" class="menu gt-a-link">
                            首页
                        </a>
                    
                </div>
            
                <div class="nav-item">
                    
                        <a href="/archives" class="menu gt-a-link">
                            归档
                        </a>
                    
                </div>
            
                <div class="nav-item">
                    
                        <a href="/tags" class="menu gt-a-link">
                            标签
                        </a>
                    
                </div>
            
                <div class="nav-item">
                    
                        <a href="/post/about" class="menu gt-a-link">
                            关于
                        </a>
                    
                </div>
            
        </div>
        <div style="text-align: center">
            <form id="gridea-search-form" style="position: relative" data-update="1597202354647" action="/search/index.html">
                <input class="search-input" autocomplete="off" spellcheck="false" name="q" placeholder="搜索文章" />
                <i class="fas fa-search gt-c-content-color-first" style="position: absolute; top: 9px; left: 10px;"></i>
            </form>
        </div>
    </div>
</nav>

    <div class="post-container">
        <div class="post-detail gt-bg-theme-color-second">
            <article class="gt-post-content">
                <h2 class="post-title">
                    Git的使用方法和一些想法
                </h2>
                <div class="post-info">
                    <time class="post-time gt-c-content-color-first">
                        · 2017-01-21 ·
                    </time>
                    
                        <a href="https://skwfar.github.io/tag/sI6a6E_rf5/" class="post-tags">
                            # Git
                        </a>
                    
                </div>
                <div class="post-content">
                    <p>Git 是一个开源的分布式版本控制系统，一直都有听说过Git，但是却没有实际使用过，虽然觉得是一个很不错的工具，但对于这种需要撸命令行的会有稍微的抵触，最近开始使用是因为要与朋友合作开发参加比赛的项目，不得不用到版本控制，而搭建Hexo也需要用到Git，那么记录一下学习的过程和想法。</p>
<p>###安装<br>
Windows: 到官网https://git-scm.com/downloads选Windows安装包下载安装<br>
Linux:</p>
<pre><code>apt-get install git 或 yum install git
</code></pre>
<p>###配置<br>
安装完后，打开命令行 (Windows 右键 Git Bash here)，配置名字和邮箱，这会显示在以后的commit中。</p>
<p>###配置<br>
安装完后，打开命令行 (Windows 右键 Git Bash here)，配置名字和邮箱，这会显示在以后的commit中。</p>
<pre><code>git config --global user.name &quot;Your Name&quot;
git config --global user.email &quot;email@example.com&quot;
</code></pre>
<p>###初始化</p>
<pre><code>git init
</code></pre>
<p>初始化一个仓库 (默认 master 分支)，会在当前文件夹下面生成一个隐藏文件夹 .git</p>
<p>初始化一个仓库 (默认 master 分支)，会在当前文件夹下面生成一个隐藏文件夹 .git</p>
<p>###添加修改<br>
新建一个文件夹，使用命令行，进入到文件夹中，然后新建一个 hello.txt</p>
<p>###提交修改<br>
通过 add 命令将该目录下所有文件提交到暂存区 (也可以将 . 换成需要单独提交的文件名)</p>
<p>然后通过 commit 命令将暂存区的所有内容提交到当前分支</p>
<pre><code>git add .
git commit -m &quot;This is my first commit&quot;
</code></pre>
<p>###撤销修改<br>
修改一下 hello.txt 文件，然后通过 diff 命令查看当前文件与暂存区中的文件的不同，如果需要撤销修改，则通过 checkout 命令进行撤销</p>
<pre><code>git diff hello.txt
git checkout -- hello.txt
</code></pre>
<p>再修改一下 hello.txt 文件或者再建一个文件，然后就可以通过 status 命令查看当前那个文件被修改了，新建了那个文件。</p>
<pre><code>git status
</code></pre>
<p>###版本回退<br>
然后再提交一下，如果这时候想回到第一次提交那会，就可以通过 log 命令查看提交历史和显示提交对象的哈希值，然后通过 reset 命令指定哈希值 (前四位就够了) 回到想要回到的commit。</p>
<pre><code>git log
git reset --hard xxxx
</code></pre>
<p>如果感觉太繁琐，可以加上参数  --pretty=oneline，只会显示版本号和提交时的备注信息</p>
<pre><code>git log --pretty=oneline
</code></pre>
<p>git reflog 可以查看所有分支的所有操作记录（包括已经被删除的 commit 记录和 reset 的操作）</p>
<p>例如执行以下代码退回到上一个版本</p>
<pre><code> git reset --hard HEAD~1
</code></pre>
<p>###分支管理<br>
分支的特性将 Git 从版本控制系统家族里区分出来。使用分支可以从开发主线上分离开来，然后在新的分支上解决特定问题，同时不会影响主线。其它的一些版本控制系统，创建分支需要创建整个源代码目录的副本。</p>
<p>在 Git 中提交时，会保存一个提交（commit）对象，该对象包含一个指向暂存内容快照的指针，包含本次提交的作者等相关附属信息，包含零个或多个指向该提交对 象的父对象指针：首次提交是没有直接祖先的，普通提交有一个祖先，由两个或多个分支合并产生的提交则有多个祖先。</p>
<p>###创建合并分支<br>
使用 checkout 命令切换分支，-b 参数表示如果该分支不存在就先创建分支然后切换。</p>
<p><code>$ git checkout -b fix-bug</code><br>
然后在 fix-bug分支下修改文件添加提交后，在再切换回主分支：</p>
<p><code>$ git checkout master</code><br>
可以看到主分支里的文件并没有被修改，例如在 fix-bug 分支下开发完成后，在 master 分支下就可以使用 merge 命令合并分支就可以看到修改的结果了。</p>
<p><code>$ git merge fix-bug</code><br>
###解决冲突<br>
切换到 fix-bug分支修改文件，添加提交；切换回 master 没有获取  fix-bug分支的修改后的提交的同时也修改文件，添加提交，然后合并。这时候系统就不知道保留谁的修改，还是都保留，就会产生冲突。</p>
<pre><code>Auto-merging hello.txt
CONFLICT (content): Merge conflict in hello.txt
Automatic merge failed; fix conflicts and then commit the result.
</code></pre>
<p>打开文件就会发现文件里面有一些符号：</p>
<pre><code>&lt;&lt;&lt;&lt;&lt;&lt;&lt; HEAD
From master
=======
From fix-bug
&gt;&gt;&gt;&gt;&gt;&gt;&gt; dev
</code></pre>
<p>这时候只需要删掉不需要的内容 (或者都保留) 重新提交，就可以解决冲突啦。</p>
<p>上面只是简单的Git操作和解决冲突的方法，Git是一个非常好的版本控制系统，经过简单的学习就可以进行版本控制，但是更加复杂的操作需要理解Git设计时的理念才能更好的使用。以前一个人写代码的时候总是随心所欲，但是没有版本控制会导致若出现了BUG，无法比对以前的代码，也没有办法找回历史的代码，是灾难性的，只能重新回忆并重新编写代码，作为刚接触Git的菜鸟而言，还需要继续加深理解。</p>

                </div>
            </article>
        </div>

        
            <div class="next-post">
                <div class="next gt-c-content-color-first">下一篇</div>
                <a href="https://skwfar.github.io/post/about-markdown/" class="post-title gt-a-link">
                    关于 Markdown
                </a>
            </div>
        

        

        

        

        <div class="site-footer gt-c-content-color-first">
    <div class="slogan gt-c-content-color-first">Sic mundus creatus est</div>
    <div class="social-container">
        
            
        
            
        
            
        
            
        
            
        
            
        
    </div>
    <div class="footer-info">
        skwfar
    </div>
    <div>
        Theme by <a href="https://imhanjie.com/" target="_blank">imhanjie</a>, Powered by <a
                href="https://github.com/getgridea/gridea" target="_blank">Gridea | <a href="https://skwfar.github.io/atom.xml" target="_blank">RSS</a></a>
    </div>
</div>

<script>
  hljs.initHighlightingOnLoad()
</script>

    </div>
</div>
</body>
</html>
