{"posts":[{"title":"在CentOS7上安装Golang环境","content":"背景 安装好了Vim8，那么，安装Golang环境就是必不可少的了，使用Linux系统进行编程，除了Vim，还需要安装一些插件来提升编程体验。 一、安装Golang 1.使用yum安装 我们可以使用CentOS自带的指令进行Golang的安装 yum install golang 但该方法安装的Golang并不是最新的版本，若版本要求不高可以用此方法进行安装。 2.使用二进制文件安装 官网：https://golang.org/ 国内镜像：https://golang.google.cn/dl/ 点击Download Go 找到Linux对应的安装包并复制下载地址，在服务器上下载 wget https://golang.org/dl/go1.14.7.linux-amd64.tar.gz 若先前安装过老版本的Go，需先删除老版本Go文件夹 rm -rf /usr/local/go 解压Go安装包 tar -zxf go1.14.7.linux-amd64.tar.gz -C /usr/local 配置环境变量 vim /etc/profile 在/etc/profile文件末尾添加以下配置，输入 :wq保存 #golang env config export GO111MODULE=on export GOROOT=/usr/local/go export GOPATH=/home/gopath export PATH=$PATH:$GOROOT/bin:$GOPATH/bin 切换到/home目录，并创建gopath文件夹 cd /home mkdir gopath 使配置文件生效 source /etc/profile 查看Golang版本 go version 若显示正确的Golang版本，那么Golang运行环境就安装完成啦。 测试一下go文件是否能正常运行吧，切换到gopath目录，创建一个hello.go cd /home/gopath vim hello.go 粘贴以下代码并:wq保存 package main import &quot;fmt&quot; func main() { fmt.Printf(&quot;Hello, world!&quot;) } 在go文件保存的路径下执行 go run hello.go 若输出Hello, world!那么就运行正常啦。 二、配置Vim 为了使Vim能更好的作为Golang编程的工具，查阅了部分资料后，暂且安装4个插件来辅助编程 vim-go 使Vim支持代码格式化、语法检查、语法高亮、等功能。 NERDTree 方便管理和查看代码目录结构。 tagbar 用于查看代码结构。 YouCompleteMe 用于代码自动补全。 1.安装Vundle 使用Vundle能对Vim插件进行管理和安装，我们需要先安装Vundle，首先拉取代码 git clone https://github.com/VundleVim/Vundle.vim.git ~/.vim/bundle/Vundle.vim 打开~/.vimrc，写入要安装的插件配置 set nu set nocompatible &quot; be iMproved, required filetype off &quot; required &quot; set the runtime path to include Vundle and initialize set rtp+=~/.vim/bundle/Vundle.vim call vundle#begin() &quot; let Vundle manage Vundle, required Plugin 'VundleVim/Vundle.vim' Plugin 'fatih/vim-go' Plugin 'majutsushi/tagbar' Plugin 'scrooloose/nerdtree' Plugin 'Valloric/YouCompleteMe' &quot; All of your Plugins must be added before the following line call vundle#end() &quot; required filetype plugin indent on &quot; required 2.安装插件 配置完成并保存后，在vim命令模式下执行 :PluginInstall 插件自动下载安装，显示 Finishing ... Done 则插件安装成功。 3.安装vim-go依赖 在vim命令模块下执行： :GoInstallBinaries 4.编译YouCompleteMe 安装完YouCompleteMe后，还需要单独编译才能运行YouaCompleteMe cd ~/.vim/bundle/YouCompleteMe git submodule update --init --recursive ./install.py --go-completer 5.写入插件配置 打开~/.vimrc，在对应插件下写入插件配置 vim-go插件 let g:go_fmt_command = &quot;goimports&quot; &quot; 格式化将默认的 gofmt 替换 let g:go_autodetect_gopath = 1 let g:go_list_type = &quot;quickfix&quot; let g:go_version_warning = 1 let g:go_highlight_types = 1 let g:go_highlight_fields = 1 let g:go_highlight_functions = 1 let g:go_highlight_function_calls = 1 let g:go_highlight_operators = 1 let g:go_highlight_extra_types = 1 let g:go_highlight_methods = 1 let g:go_highlight_generate_tags = 1 let g:godef_split = 2 NERDTree插件 &quot; 打开和关闭NERDTree快捷键 map &lt;F10&gt; :NERDTreeToggle&lt;CR&gt; &quot; 设置宽度 let NERDTreeWinSize = 30 &quot; 是否显示隐藏文件 let NERDTreeShowHidden=1 &quot; 修复^G let g:NERDTreeNodeDelimiter = &quot;\\u00a0&quot; tagbar插件 nmap &lt;F9&gt; :TagbarToggle&lt;CR&gt; let g:tagbar_width=25 let g:tagbar_type_go = { \\ 'ctagstype' : 'go', \\ 'kinds' : [ \\ 'p:package', \\ 'i:imports:1', \\ 'c:constants', \\ 'v:variables', \\ 't:types', \\ 'n:interfaces', \\ 'w:fields', \\ 'e:embedded', \\ 'm:methods', \\ 'r:constructor', \\ 'f:functions' \\ ], \\ 'sro' : '.', \\ 'kind2scope' : { \\ 't' : 'ctype', \\ 'n' : 'ntype' \\ }, \\ 'scope2kind' : { \\ 'ctype' : 't', \\ 'ntype' : 'n' \\ }, \\ 'ctagsbin' : 'gotags', \\ 'ctagsargs' : '-sort -silent' \\ } 配置因人而异，配置写入完成并保存后，在Vim中按F9召唤tagbar，按F10召唤NERDTree，需要其他快捷键可以在配置文件中更改。 在CentOS上的Golang环境就配置完成啦。 ","link":"https://skwfar.github.io/post/CentOS7-install-Golang-envirment/"},{"title":"在CentOS7上安装Vim8","content":"背景 由于公司电脑是内网，访问外网的VDI配置奇差无比，也为了能不用重复配置环境，萌生了在服务器上进行编程的想法，正好手上有一台腾讯云的服务器可以使用，服务器上为了宝塔插件的兼容性选择了安装CentOS7，CentOS自带的Vim版本太低，无法安装YouCompleteMe插件，所以开始升级服务器上的Vim。 一、卸载旧版本Vim 自带的可以使用yum卸载 yum remove -y vim* 编译安装的直接删除安装目录 rm -rf /usr/local/share/vim/vim82 二、安装GCC编译器 yum install -y gcc gcc-c++ kernel-devel 三、编译安装 下载vim git clone https://github.com/vim/vim.git 下载后进入vim目录进行配置，编译，安装 配置 ./configure --enable-multibyte --enable-python3interp=yes --with-python3-config-dir=/usr/lib64/python3.6/config-3.6m-x86_64-linux-gnu --enable-fail-if-missing 由于我本地安装了python3.6， 所以只开启python3的支持，config路径会有所不同，需要找到python安装目录进行确认 参数说明： –with-features=huge：支持最大特性 –enable-rubyinterp：启用Vim对ruby编写的插件的支持 –enable-pythoninterp：启用Vim对python编写的插件的支持 -enable-python3interp：启用对python3编写的插件的支持 –enable-luainterp：启用Vim对lua编写的插件的支持 –enable-perlinterp：启用Vim对perl编写的插件的支持 –enable-multibyte：多字节支持 可以在Vim中输入中文 --enable-fontset：支持字体设置 –enable-cscope：启用Vim对cscope支持 –enable-gui=gtk2：gtk2支持,也可以使用gnome，表示生成gvim -–with-python-config-dir 指定 python配置 路径 --with-python3-config-dir 指定python3配置路径 –-prefix：编译安装路径 --with-compiledby：编译者 --enable-fail-if-missing 表示问题会提示报错，并停止 编译 make 如果make的时候出错，执行 make distclean 安装 make install 四、查看vim版本 :verison 查看到python3的选项前缀为+号，既是安装成功啦，下面可以愉快的安装依赖python的插件 ","link":"https://skwfar.github.io/post/CentOS7-install-Vim8/"},{"title":"Git的使用方法和一些想法","content":"Git 是一个开源的分布式版本控制系统，一直都有听说过Git，但是却没有实际使用过，虽然觉得是一个很不错的工具，但对于这种需要撸命令行的会有稍微的抵触，最近开始使用是因为要与朋友合作开发参加比赛的项目，不得不用到版本控制，而搭建Hexo也需要用到Git，那么记录一下学习的过程和想法。 ###安装 Windows: 到官网https://git-scm.com/downloads选Windows安装包下载安装 Linux: apt-get install git 或 yum install git ###配置 安装完后，打开命令行 (Windows 右键 Git Bash here)，配置名字和邮箱，这会显示在以后的commit中。 ###配置 安装完后，打开命令行 (Windows 右键 Git Bash here)，配置名字和邮箱，这会显示在以后的commit中。 git config --global user.name &quot;Your Name&quot; git config --global user.email &quot;email@example.com&quot; ###初始化 git init 初始化一个仓库 (默认 master 分支)，会在当前文件夹下面生成一个隐藏文件夹 .git 初始化一个仓库 (默认 master 分支)，会在当前文件夹下面生成一个隐藏文件夹 .git ###添加修改 新建一个文件夹，使用命令行，进入到文件夹中，然后新建一个 hello.txt ###提交修改 通过 add 命令将该目录下所有文件提交到暂存区 (也可以将 . 换成需要单独提交的文件名) 然后通过 commit 命令将暂存区的所有内容提交到当前分支 git add . git commit -m &quot;This is my first commit&quot; ###撤销修改 修改一下 hello.txt 文件，然后通过 diff 命令查看当前文件与暂存区中的文件的不同，如果需要撤销修改，则通过 checkout 命令进行撤销 git diff hello.txt git checkout -- hello.txt 再修改一下 hello.txt 文件或者再建一个文件，然后就可以通过 status 命令查看当前那个文件被修改了，新建了那个文件。 git status ###版本回退 然后再提交一下，如果这时候想回到第一次提交那会，就可以通过 log 命令查看提交历史和显示提交对象的哈希值，然后通过 reset 命令指定哈希值 (前四位就够了) 回到想要回到的commit。 git log git reset --hard xxxx 如果感觉太繁琐，可以加上参数 --pretty=oneline，只会显示版本号和提交时的备注信息 git log --pretty=oneline git reflog 可以查看所有分支的所有操作记录（包括已经被删除的 commit 记录和 reset 的操作） 例如执行以下代码退回到上一个版本 git reset --hard HEAD~1 ###分支管理 分支的特性将 Git 从版本控制系统家族里区分出来。使用分支可以从开发主线上分离开来，然后在新的分支上解决特定问题，同时不会影响主线。其它的一些版本控制系统，创建分支需要创建整个源代码目录的副本。 在 Git 中提交时，会保存一个提交（commit）对象，该对象包含一个指向暂存内容快照的指针，包含本次提交的作者等相关附属信息，包含零个或多个指向该提交对 象的父对象指针：首次提交是没有直接祖先的，普通提交有一个祖先，由两个或多个分支合并产生的提交则有多个祖先。 ###创建合并分支 使用 checkout 命令切换分支，-b 参数表示如果该分支不存在就先创建分支然后切换。 $ git checkout -b fix-bug 然后在 fix-bug分支下修改文件添加提交后，在再切换回主分支： $ git checkout master 可以看到主分支里的文件并没有被修改，例如在 fix-bug 分支下开发完成后，在 master 分支下就可以使用 merge 命令合并分支就可以看到修改的结果了。 $ git merge fix-bug ###解决冲突 切换到 fix-bug分支修改文件，添加提交；切换回 master 没有获取 fix-bug分支的修改后的提交的同时也修改文件，添加提交，然后合并。这时候系统就不知道保留谁的修改，还是都保留，就会产生冲突。 Auto-merging hello.txt CONFLICT (content): Merge conflict in hello.txt Automatic merge failed; fix conflicts and then commit the result. 打开文件就会发现文件里面有一些符号： &lt;&lt;&lt;&lt;&lt;&lt;&lt; HEAD From master ======= From fix-bug &gt;&gt;&gt;&gt;&gt;&gt;&gt; dev 这时候只需要删掉不需要的内容 (或者都保留) 重新提交，就可以解决冲突啦。 上面只是简单的Git操作和解决冲突的方法，Git是一个非常好的版本控制系统，经过简单的学习就可以进行版本控制，但是更加复杂的操作需要理解Git设计时的理念才能更好的使用。以前一个人写代码的时候总是随心所欲，但是没有版本控制会导致若出现了BUG，无法比对以前的代码，也没有办法找回历史的代码，是灾难性的，只能重新回忆并重新编写代码，作为刚接触Git的菜鸟而言，还需要继续加深理解。 ","link":"https://skwfar.github.io/post/git/"},{"title":"关于 Markdown","content":"由于搭建静态博客Hexo的原因，第一次认真的学习了一下关于Markdown的写法，记录一下 基本语法 标题 # 一级标题 ## 二级标题 ### 三级标题 #### 四级标题 ##### 五级标题 ###### 六级标题 分别对应HTML中的&lt;h1&gt;一级标题&lt;/h1&gt;，以此类推。 **用两个星号标记起来，表示加粗**，*一个星号，表示斜体*，~~这样子表示删除~~，这些就是最基本的语法了。 插入链接 插入链接: 这是一个 [链接](http://url.com/) 快速链接: 只需在网址头尾用尖括号包裹，比如&lt;http://url.com&gt; 特别支持: [Google (target=_blank id=google_link)](google.com) 其中内容括号内的target=_blank id=google_link 会自动扩展到最终 HTML 对应 A 标签下的属性，另外，google.com 作为一个域名，不需要补全http://, 最终会自动补全。 插入图片 跟插入链接的方式很像，就是前面多一个!， 但是在一般的客户端编辑器，比如 MarkEditor 中直接拖入图片就可以。 ![)](图片的url) 列表 无序列表: - Tony - Amy - Louis 有序列表则使用数字接着一个英文句点： 1. Apple 2. Bird 3. Cat 居中与居右 单独一行的时候，[文本内容]表示居中对齐，[文本内容]]表示居右(右侧再多一个])，其它默认情况下都是居左。 内容引用 用&gt;放在段首，之后是空格，输入文字: &gt; 我 &gt; 随风飘荡 分割线 -加上空格组成，三个以上: - - - - - - ","link":"https://skwfar.github.io/post/about-markdown/"}]}