{"posts":[{"title":"在CentOS7上安装Golang环境","content":"背景 安装好了Vim8，那么，安装Golang环境就是必不可少的了，使用Linux系统进行编程，除了Vim，还需要安装一些插件来提升编程体验。 一、安装Golang 1.使用yum安装 我们可以使用CentOS自带的指令进行Golang的安装 yum install golang 但该方法安装的Golang并不是最新的版本，若版本要求不高可以用此方法进行安装。 2.使用二进制文件安装 官网：https://golang.org/ 国内镜像：https://golang.google.cn/dl/ 点击Download Go 找到Linux对应的安装包并复制下载地址，在服务器上下载 wget https://golang.org/dl/go1.14.7.linux-amd64.tar.gz 若先前安装过老版本的Go，需先删除老版本Go文件夹 rm -rf /usr/local/go 解压Go安装包 tar -zxf go1.14.7.linux-amd64.tar.gz -C /usr/local 配置环境变量 vim /etc/profile 在/etc/profile文件末尾添加以下配置，输入 :wq保存 #golang env config export GO111MODULE=on export GOROOT=/usr/local/go export GOPATH=/home/gopath export PATH=$PATH:$GOROOT/bin:$GOPATH/bin 切换到/home目录，并创建gopath文件夹 cd /home mkdir gopath 使配置文件生效 source /etc/profile 查看Golang版本 go version 若显示正确的Golang版本，那么Golang运行环境就安装完成啦。 测试一下go文件是否能正常运行吧，切换到gopath目录，创建一个hello.go cd /home/gopath vim hello.go 粘贴以下代码并:wq保存 package main import &quot;fmt&quot; func main() { fmt.Printf(&quot;Hello, world!&quot;) } 在go文件保存的路径下执行 go run hello.go 若输出Hello, world!那么就运行正常啦。 二、配置Vim 为了使Vim能更好的作为Golang编程的工具，查阅了部分资料后，暂且安装4个插件来辅助编程 vim-go 使Vim支持代码格式化、语法检查、语法高亮、等功能。 NERDTree 方便管理和查看代码目录结构。 tagbar 用于查看代码结构。 YouCompleteMe 用于代码自动补全。 1.安装Vundle 使用Vundle能对Vim插件进行管理和安装，我们需要先安装Vundle，首先拉取代码 git clone https://github.com/VundleVim/Vundle.vim.git ~/.vim/bundle/Vundle.vim 打开~/.vimrc，写入要安装的插件配置 set nu set nocompatible &quot; be iMproved, required filetype off &quot; required &quot; set the runtime path to include Vundle and initialize set rtp+=~/.vim/bundle/Vundle.vim call vundle#begin() &quot; let Vundle manage Vundle, required Plugin 'VundleVim/Vundle.vim' Plugin 'fatih/vim-go' Plugin 'majutsushi/tagbar' Plugin 'scrooloose/nerdtree' Plugin 'Valloric/YouCompleteMe' &quot; All of your Plugins must be added before the following line call vundle#end() &quot; required filetype plugin indent on &quot; required 2.安装插件 配置完成并保存后，在vim命令模式下执行 :PluginInstall 插件自动下载安装，显示 Finishing ... Done 则插件安装成功。 3.安装vim-go依赖 在vim命令模块下执行： :GoInstallBinaries 4.编译YouCompleteMe 安装完YouCompleteMe后，还需要单独编译才能运行YouaCompleteMe cd ~/.vim/bundle/YouCompleteMe git submodule update --init --recursive ./install.py --go-completer 5.写入插件配置 打开~/.vimrc，在对应插件下写入插件配置 vim-go插件 let g:go_fmt_command = &quot;goimports&quot; &quot; 格式化将默认的 gofmt 替换 let g:go_autodetect_gopath = 1 let g:go_list_type = &quot;quickfix&quot; let g:go_version_warning = 1 let g:go_highlight_types = 1 let g:go_highlight_fields = 1 let g:go_highlight_functions = 1 let g:go_highlight_function_calls = 1 let g:go_highlight_operators = 1 let g:go_highlight_extra_types = 1 let g:go_highlight_methods = 1 let g:go_highlight_generate_tags = 1 let g:godef_split = 2 NERDTree插件 &quot; 打开和关闭NERDTree快捷键 map &lt;F10&gt; :NERDTreeToggle&lt;CR&gt; &quot; 设置宽度 let NERDTreeWinSize = 30 &quot; 是否显示隐藏文件 let NERDTreeShowHidden=1 &quot; 修复^G let g:NERDTreeNodeDelimiter = &quot;\\u00a0&quot; tagbar插件 nmap &lt;F9&gt; :TagbarToggle&lt;CR&gt; let g:tagbar_width=25 let g:tagbar_type_go = { \\ 'ctagstype' : 'go', \\ 'kinds' : [ \\ 'p:package', \\ 'i:imports:1', \\ 'c:constants', \\ 'v:variables', \\ 't:types', \\ 'n:interfaces', \\ 'w:fields', \\ 'e:embedded', \\ 'm:methods', \\ 'r:constructor', \\ 'f:functions' \\ ], \\ 'sro' : '.', \\ 'kind2scope' : { \\ 't' : 'ctype', \\ 'n' : 'ntype' \\ }, \\ 'scope2kind' : { \\ 'ctype' : 't', \\ 'ntype' : 'n' \\ }, \\ 'ctagsbin' : 'gotags', \\ 'ctagsargs' : '-sort -silent' \\ } 配置因人而异，配置写入完成并保存后，在Vim中按F9召唤tagbar，按F10召唤NERDTree，需要其他快捷键可以在配置文件中更改。 在CentOS上的Golang环境就配置完成啦。 ","link":"https://skwfar.github.io/post/CentOS7-install-Golang-envirment/"},{"title":"在CentOS7上安装Vim8","content":"背景 由于公司电脑是内网，访问外网的VDI配置奇差无比，也为了能不用重复配置环境，萌生了在服务器上进行编程的想法，正好手上有一台腾讯云的服务器可以使用，服务器上为了宝塔插件的兼容性选择了安装CentOS7，CentOS自带的Vim版本太低，无法安装YouCompleteMe插件，所以开始升级服务器上的Vim。 一、卸载旧版本Vim 自带的可以使用yum卸载 yum remove -y vim* 编译安装的直接删除安装目录 rm -rf /usr/local/share/vim/vim82 二、安装GCC编译器 yum install -y gcc gcc-c++ kernel-devel 三、编译安装 下载vim git clone https://github.com/vim/vim.git 下载后进入vim目录进行配置，编译，安装 配置 ./configure --enable-multibyte --enable-python3interp=yes --with-python3-config-dir=/usr/lib64/python3.6/config-3.6m-x86_64-linux-gnu --enable-fail-if-missing 由于我本地安装了python3.6， 所以只开启python3的支持，config路径会有所不同，需要找到python安装目录进行确认 参数说明： –with-features=huge：支持最大特性 –enable-rubyinterp：启用Vim对ruby编写的插件的支持 –enable-pythoninterp：启用Vim对python编写的插件的支持 -enable-python3interp：启用对python3编写的插件的支持 –enable-luainterp：启用Vim对lua编写的插件的支持 –enable-perlinterp：启用Vim对perl编写的插件的支持 –enable-multibyte：多字节支持 可以在Vim中输入中文 --enable-fontset：支持字体设置 –enable-cscope：启用Vim对cscope支持 –enable-gui=gtk2：gtk2支持,也可以使用gnome，表示生成gvim -–with-python-config-dir 指定 python配置 路径 --with-python3-config-dir 指定python3配置路径 –-prefix：编译安装路径 --with-compiledby：编译者 --enable-fail-if-missing 表示问题会提示报错，并停止 编译 make 如果make的时候出错，执行 make distclean 安装 make install 四、查看vim版本 :verison 查看到python3的选项前缀为+号，既是安装成功啦，下面可以愉快的安装依赖python的插件 ","link":"https://skwfar.github.io/post/CentOS7-install-Vim8/"}]}